<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø­ØµØ± Ø§Ø³ØªØ¦Ø°Ø§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨</title>
<style>
body { font-family: "Tahoma", sans-serif; margin: 0; padding: 0; background: #f9fafb; }
header { display: flex; align-items: center; justify-content: flex-start; padding: 10px 20px; background: linear-gradient(to right, #0077b6, #0096c7); color: #fff; }
header img { height: 70px; margin-left: 15px; }
header h1 { font-size: 20px; }
.container { padding: 20px; }
.form-box { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 3px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
label { display: block; margin-bottom: 8px; font-weight: bold; }
input, select, button { padding: 10px; margin-bottom: 15px; width: 100%; border: 1px solid #ddd; border-radius: 8px; }
button { background: #0077b6; color: white; border: none; cursor: pointer; font-weight: bold; }
button:hover { background: #023e8a; }
table { width: 100%; border-collapse: collapse; margin-top: 15px; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 3px 6px rgba(0,0,0,0.1); }
th, td { padding: 12px; text-align: center; border-bottom: 1px solid #eee; }
th { background: #0096c7; color: white; }
.actions { margin-top: 20px; display: flex; gap: 10px; }
footer { text-align: center; padding: 15px; margin-top: 20px; background: #f1f1f1; font-weight: bold; color: #333; }
@media print { header, .form-box, .actions, footer { display: none; } table { box-shadow: none; } }
</style>
</head>
<body>

<header>
<img src="school-logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
<h1>Ø­ØµØ± Ø§Ø³ØªØ¦Ø°Ø§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨</h1>
</header>

<div class="container">
  <div class="form-box">
    <label>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨:</label>
    <input type="text" id="name">
    <label>Ø§Ù„ØµÙ:</label>
    <input type="text" id="class">
    <label>Ø§Ù„Ø³Ø¨Ø¨:</label>
    <input type="text" id="reason">
    <button onclick="saveData()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø§Ø³ØªØ¦Ø°Ø§Ù†</button>
  </div>

  <table id="recordsTable">
    <thead>
      <tr>
        <th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th>
        <th>Ø§Ù„ØµÙ</th>
        <th>Ø§Ù„ÙŠÙˆÙ…</th>
        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
        <th>Ø§Ù„ÙˆÙ‚Øª</th>
        <th>Ø§Ù„Ø³Ø¨Ø¨</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="actions">
    <button onclick="printTable()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
  </div>
</div>

<footer>
Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©
</footer>

<script>
window.onload = function() { loadData(); };

function getDayName(date) {
  const days = ['Ø§Ù„Ø£Ø­Ø¯','Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡','Ø§Ù„Ø®Ù…ÙŠØ³','Ø§Ù„Ø¬Ù…Ø¹Ø©','Ø§Ù„Ø³Ø¨Øª'];
  return days[date.getDay()];
}

function formatDate(date) {
  let day = date.getDate().toString().padStart(2,'0');
  let month = (date.getMonth()+1).toString().padStart(2,'0');
  let year = date.getFullYear();
  return `${day}-${month}-${year}`;
}

function formatTime(date) {
  let hours = date.getHours();
  let minutes = date.getMinutes().toString().padStart(2,'0');
  let ampm = hours >= 12 ? 'Ù…' : 'Øµ';
  hours = hours % 12;
  hours = hours ? hours : 12;
  return `${hours}:${minutes} ${ampm}`;
}

function saveData() {
  const name = document.getElementById("name").value;
  const studentClass = document.getElementById("class").value;
  const reason = document.getElementById("reason").value;
  if (name.trim() === "" || studentClass.trim() === "") {
    alert("Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ ÙˆØ§Ù„ØµÙ");
    return;
  }
  const now = new Date();
  const record = {
    name,
    studentClass,
    day: getDayName(now),
    date: formatDate(now),
    time: formatTime(now),
    reason
  };
  let records = JSON.parse(localStorage.getItem("records")) || [];
  records.push(record);
  localStorage.setItem("records", JSON.stringify(records));
  addRow(record);
  document.getElementById("name").value = "";
  document.getElementById("class").value = "";
  document.getElementById("reason").value = "";
}

function addRow(record) {
  const tableBody = document.querySelector("#recordsTable tbody");
  const row = document.createElement("tr");
  row.innerHTML = `
    <td>${record.name}</td>
    <td>${record.studentClass}</td>
    <td>${record.day}</td>
    <td>${record.date}</td>
    <td>${record.time}</td>
    <td>${record.reason}</td>
  `;
  tableBody.appendChild(row);
}

function loadData() {
  const records = JSON.parse(localStorage.getItem("records")) || [];
  records.forEach(r => addRow(r));
}

function printTable() { window.print(); }
</script>

</body>
</html>
